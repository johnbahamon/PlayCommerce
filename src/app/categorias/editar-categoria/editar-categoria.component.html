<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Editar Categoría</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group mr-2">
            <button routerLink="/categorias" class="btn btn-sm btn-outline-secondary">Categorías</button>
        </div>
    </div>
</div>

<div class="container" *ngIf="!cargando">
    <h3 style="text-align: center">{{ categoria.nombre }}</h3>
    <div class="row">
        <div class="col">
            <div class="form-group row">
                <label for="nombre" class="col-sm-2 col-form-label">Nombre</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="nombre" [(ngModel)]="nombre">
                </div>
            </div>
            <hr>
            <h4>Detalles</h4>
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let detalle of detalles; let i = index">
                    {{ detalle[0] }}
                    <ng-container *ngIf="detalle[2]">
                        <span *ngFor="let opcion of detalle[2]" class="badge badge-primary badge-pill">{{ opcion }}</span>
                    </ng-container>
                    <ng-container *ngIf="detalle[3]">
                        <span *ngFor="let unidad of detalle[3]" class="badge badge-secondary badge-pill">{{ unidad }}</span>
                    </ng-container>
                    <span class="badge badge-danger badge-pill pointer" (click)="detalles.splice(i, 1)">x</span>
                </li>
            </ul>
            <hr>
            <button type="button" class="btn btn-link" (click)="agregarDetalle = true">Agregar otro detalle?</button>
        </div>
        <div class="col">
            <div class="row" *ngIf="agregarDetalle">
                <input type="text" placeholder="Detalle" class="form-control" name="detalle" [(ngModel)]="detalle">
                <ng-container *ngIf="opciones">
                    Opciones: <span *ngFor="let opcion of opciones" class="badge badge-primary badge-pill">{{ opcion }}</span>
                </ng-container>
                <ng-container *ngIf="unidades">
                    Unidades: <span *ngFor="let unidad of unidades" class="badge badge-secondary badge-pill">{{ unidad }}</span>
                </ng-container>

                <div *ngIf="mostrarBotones">
                    <button type="button" class="btn btn-link" (click)="agregarOpcion = true; agregarUnidad = false; opciones = []; unidades = null; mostrarBotones = false">Agregar Opciones?</button>
                    <button type="button" class="btn btn-link" (click)="agregarOpcion = false; agregarUnidad = true; unidades = []; opciones = null; mostrarBotones = false">Agregar Unidades?</button>
                </div>

                <div class="input-group mb-3" *ngIf="agregarOpcion">
                    <input type="text" placeholder="opcion" class="form-control" name="opcion" [(ngModel)]="opcion">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" (click)="agregarOpcionParcial()">+</button>
                    </div>
                </div>

                <div class="input-group mb-3" *ngIf="agregarUnidad">
                    <input type="text" placeholder="unidad" class="form-control" name="unidad" [(ngModel)]="unidad">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" (click)="agregarUnidadParcial()">+</button>
                    </div>
                </div>

                <button class="btn btn-secondary" type="button" (click)="agregarDetalleParcial()">Agregar Detalle</button>
            </div>
        </div>
    </div>

    <div class="row">
        <button type="button" class="btn btn-primary" (click)="actualizarCategoria()">Actualizar Categoría</button>
    </div>
</div>